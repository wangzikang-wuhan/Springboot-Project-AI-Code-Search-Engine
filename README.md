# Springboot-Project-AI-Code-Search-Engine
这是一个微型AI驱动的SpringBoot项目代码搜索引擎，采用自定义代码切割策略+向量化+LLM描述构建代码知识库，实现语义搜索。

这是本人学习过程中的一个练手项目，也算是一个实现笔记。看到自己写的SpringBoot项目和代码然后突然就到去想实现这么一个AI驱动的SpringBoot项目代码搜索引擎，举个例子假如我拿到一个非常陌生的项目我估计会看得很懵需要花大量时间去搞清楚比如这段代码是在干什么之类的，可能也有其他的用处，所以就想到做这么一个东西出来。大家有任何意见或者建议可以在项目中留言，我也会根据大家的建议完善该项目。我也会在学习LLM相关知识的过程中，不断完善项目。目前是只能支持SpringBoot项目的代码搜索，后续也可以添加更多语言的支持。

#### 项目架构

1. SpringBoot 项目 
2. [解析器] 提取 .java + 方法 +SpringBoot配置文件+pom.xml+Mapper.xml
3.  [LLM] 生成自然语言描述      
4. [向量化] jina-code + SPLADE 实现混合搜索
5. [Qdrant] 混合检索      
6. 输入：“怎么退款？” 
7. 返回代码片段 + 描述

#### 实现过程：

- 代码切割

  我这里目前只考虑到SpringBoot项目，后续可能会添加更多的代码适配。这里使用JavaLang这个工具，可以对.java文件解析，然后生成一颗语法树。在语法树内部会包含该.java文件几乎所有的信息，注解、方法、参数...所有的信息都在其中，但是唯独不包含方法的完整片段。

  所以得自己去实现切割的方式，代码的切割和PDF文档等数据的切割有些不太一样的是。可能一整个类可以当作一整个代码片段，也有可能一个方法是一整个代码片段，还有一整个.java文件都是一个代码片段还有.xml等文件。你如何去设计切割的规则而保证这一整段代码是有效而且AI能看懂是在干什么，这里是值得思考的。我的代码实现中并没有考虑的非常多，想着的是以实现为主。

  我的规则是：

  1. pom.xml直接存一整个，没必要切割
  2. application.yaml等配置文件，直接存一整个，配置文件没有切割的必要
  3. 接口直接存整个.java文件的内容，接口可能是DAO、Service等等
  4. 枚举类直接存整个
  5. 抽象类需要解析并切割
  6. 普通类(我这里分为实体类和普通类)，实体类就是类似于Entity直接存一整个，普通类就需要解析然后切割代码片段，这里的普通类可能是util、serviceImpl、controller等等
  7. mapper.xml直接存一整个文件

- LLM代码描述

- 代码片段向量化

- 语义搜索

